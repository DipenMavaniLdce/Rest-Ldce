{"version":3,"sources":["redux/actions/userAction.js","Components/Registration/AdminFormValidate.js","Components/Registration/AdminForm.js","Components/Registration/AdminRegisterForm.js"],"names":["loginUser","userData","history","dispatch","a","type","CLEAR_ERRORS","LOADING_UI","axios","post","then","res","SET_AUTHENTICATED","setAuthorizationHeader","data","jwt","domain","getUserData","STOP_LOADING_UI","push","catch","err","console","log","SET_ERRORS","payload","response","url","get","SET_USER","dashboard","SET_ADMIN","RegisterStudent","formData","header","updateStudent","SET_OPERATION_SUCCESS","RegisterAdmin","changePhotoOrSign","values","key","FormData","append","name","changePassword","error","requestCertificate","link","forgotPasswordAction","logout","LOGOUT","token","FBIdToken","defaults","headers","common","validate","errors","ADMIN_FIELDS","forEach","field","fieldName","replace","value","match","nameRegex","emailRegex","contactRegex","passwordRegex","password","addLineRegex","cityRegex","pinRegex","reduxForm","form","onSubmitFail","scrollToFirstError","props","onSubmit","handleSubmit","className","Field","label","placeholder","component","textInput","require","selectInput","options","GENDER","data-live-search","ADMIN_ROLE","BRANCH","BRANCH_YEAR","maxLength","minLength","htmlFor","color","COUNTRY","min","max","BLOOD_GROOP","ImageInput","default","message","AdminRegisterForm","Object","keys","index","this","Component","connect"],"mappings":"mdAcaA,EAAY,SAACC,EAAUC,GAAX,8CAAuB,WAAOC,GAAP,SAAAC,EAAA,sDAC/CD,EAAS,CAAEE,KAAMC,MACjBH,EAAS,CAAEE,KAAME,MACjBC,IACEC,KAAK,oBAAqBR,GAC1BS,MAAK,SAACC,GACNR,EAAS,CAAEE,KAAMO,MACjBC,EAAuBF,EAAIG,KAAKC,IAAKJ,EAAIG,KAAKE,QAC9Cb,EAASc,EAAYN,EAAIG,KAAKE,OAAQd,IACtCC,EAAS,CAAEE,KAAMa,MACO,YAApBP,EAAIG,KAAKE,OACZd,EAAQiB,KAAK,YAEbjB,EAAQiB,KAAK,aAGdC,OAAM,SAACC,GACPC,QAAQC,IAAIF,GACZlB,EAAS,CACRE,KAAMmB,IACNC,QAASJ,EAAIK,SAASZ,UApBsB,2CAAvB,uDAyBZG,EAAc,SAACD,GAAD,OAAY,SAACb,GACvC,IAAIwB,EACW,YAAXX,GACHW,EAAM,oBACNnB,IACEoB,IAAID,GACJjB,MAAK,SAACC,GACNR,EAAS,CACRE,KAAMwB,IACNJ,QAASd,EAAIG,UAGdM,OAAM,SAACC,GACPC,QAAQC,IAAIF,GACZlB,EAAS,CACRE,KAAMmB,IACNC,QAASJ,SAIZM,EAAM,kBACNnB,IAAMoB,IAAID,GAAKjB,MAAK,SAACC,GACpBH,IACEoB,IAAI,4BACJlB,MAAK,SAACoB,GACNR,QAAQC,IAAIO,EAAUhB,MACtBX,EAAS,CACRE,KAAM0B,IACNN,QAASd,EAAIG,KACbgB,UAAWA,EAAUhB,UAGtBM,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,YAKnBW,EAAkB,SAACC,EAAU/B,GAAX,OAAuB,SAACC,GAItDK,IACEC,KAAK,uBAAwBwB,EAJhB,CACdC,OAAQ,CAAE,eAAgB,yBAIzBxB,MAAK,SAACC,GACNT,EAAQiB,KAAK,aAEbC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAGjBc,EAAgB,SAACF,GAAD,OAAc,SAAC9B,GAC3CA,EAAS,CAAEE,KAAMC,MACjBH,EAAS,CAAEE,KAAME,MAIjBC,IACEC,KAAK,6BAA8BwB,EAJtB,CACdC,OAAQ,CAAE,eAAgB,yBAIzBxB,MAAK,SAACC,GACNR,EAASc,EAAY,YACrBd,EAAS,CAAEE,KAAM+B,IAAuBX,QAAS,eAEjDL,OAAM,SAACC,GACPC,QAAQC,IAAIF,GACZlB,EAAS,CACRE,KAAMmB,IACNC,QAASJ,EAAIK,SAASZ,YAKbuB,EAAgB,SAACJ,EAAU/B,GAAX,OAAuB,SAACC,GAIpDK,IACEC,KAAK,uBAAwBwB,EAJhB,CACdC,OAAQ,CAAE,eAAgB,yBAIzBxB,MAAK,SAACC,GACNT,EAAQiB,KAAK,aAEbC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAGjBiB,EAAoB,SAACC,EAAQvB,GAAT,OAAoB,SAACb,GACrDA,EAAS,CAAEE,KAAMC,MACjB,IACIqB,EACAa,EAFEP,EAAW,IAAIQ,SAGjBF,EAAM,MACTC,EAAM,OACNP,EAASS,OAAOF,EAAKD,EAAOC,GAAMD,EAAOC,GAAKG,MAC9ChB,EAAMX,EAAS,gBAEfwB,EAAM,QACNP,EAASS,OAAOF,EAAKD,EAAOC,GAAMD,EAAOC,GAAKG,MAC9ChB,EAAMX,EAAS,gBAMhBR,IACEC,KAAK,OAAOkB,EAAKM,EAJJ,CACdC,OAAQ,CAAE,eAAgB,yBAIzBxB,KAFF,+BAAAN,EAAA,MAEO,WAAOO,GAAP,SAAAP,EAAA,sDAEJD,EAASc,EADK,aAAXD,EACkB,UAEA,UAJjB,2CAFP,uDAUEI,OAAM,SAACC,GACPC,QAAQC,IAAIF,GACZlB,EAAS,CACRE,KAAMmB,IACNC,QAASJ,EAAIK,SAASZ,YAKb8B,EAAiB,SAACX,EAAUjB,GAAX,OAAsB,SAACb,GACpDA,EAAS,CAAEE,KAAMC,MACjBH,EAAS,CAAEE,KAAME,MAIjBC,IACEC,KADF,cACcO,EADd,mBACuCiB,EAJxB,CACdC,OAAQ,CAAE,eAAgB,yBAIzBxB,MAAK,SAACC,GACNR,EAAS,CAAEE,KAAM+B,IAAuBX,QAAS,eAEjDL,OAAM,SAACC,GACPC,QAAQuB,MAAMxB,GACdlB,EAAS,CAAEE,KAAMmB,IAAYC,QAASJ,EAAIK,SAASZ,YAMzCgC,EAAqB,SAACzC,EAAM4B,EAAU/B,GAAjB,OAA6B,SAACC,GAC/DA,EAAS,CAAEE,KAAMC,MACjBH,EAAS,CAAEE,KAAME,MAEjB,IAGMwC,EAAgB,cAAT1C,EAAuB,yBAAvB,sCAAiFA,GAC9FG,IACEC,KAAKsC,EAAMd,EALE,CACdC,OAAQ,CAAE,eAAgB,yBAKzBxB,MAAK,SAACC,GACNR,EAAS,CAAEE,KAAM+B,IAAuBX,QAAS,YACjDtB,EAASc,EAAY,YACrBd,EAAS,CAAEE,KAAMC,MACjBJ,EAAQiB,KAAK,eAEbC,OAAM,SAACC,GACPC,QAAQuB,MAAMxB,GACdlB,EAAS,CAAEE,KAAMmB,IAAYC,QAASJ,EAAIK,SAASZ,YAQzCkC,EAAuB,SAACf,GAAD,OAAc,SAAC9B,GAClDA,EAAS,CAAEE,KAAMC,MACjBH,EAAS,CAAEE,KAAME,MACjBe,QAAQC,IAAIU,GAIZzB,IACEC,KADF,sBAC8BwB,EAJf,CACdC,OAAQ,CAAE,eAAgB,yBAIzBxB,MAAK,SAACC,GACNR,EAAS,CAAEE,KAAM+B,IAAuBX,QAASd,EAAIG,UAErDM,OAAM,SAACC,GACPC,QAAQuB,MAAMxB,GACdlB,EAAS,CAAEE,KAAMmB,IAAYC,QAASJ,EAAIK,SAASZ,YAIzCmC,EAAS,kBAAM,SAAC9C,GAC5BA,EAAS,CACRE,KAAM6C,QAIFrC,EAAyB,SAACsC,EAAOnC,GACtC,IAAMoC,EAAS,iBAAaD,GAC5B3C,IAAM6C,SAASC,QAAQC,OAAvB,cAAiDH,EACjD5C,IAAM6C,SAASC,QAAQC,OAAvB,OAA0CvC,I,8ICtJ5BwC,EArEE,SAACjB,GAChB,IAAMkB,EAAS,GAiEf,OA/DAC,IAAaC,SAAQ,SAACC,GACpB,IAAMC,EAAYD,EAAME,QAAQ,KAAM,KAChCC,EAAQxB,EAAOqB,GAErB,GAAKG,EAGH,OAAQH,GACN,IAAK,aACL,IAAK,cACL,IAAK,YACEG,EAAMC,MAAMC,OACfR,EAAOG,GAAP,kCAA2CC,EAA3C,MAEF,MACF,IAAK,QACEE,EAAMC,MAAME,OACfT,EAAOG,GAAP,kCAA2CC,EAA3C,MAEF,MACF,IAAK,UACEE,EAAMC,MAAMG,OACfV,EAAOG,GAAP,0CAEF,MACF,IAAK,WACEG,EAAMC,MAAMI,OACfX,EAAOG,GAAP,meASF,MACF,IAAK,mBACCG,IAAUxB,EAAO8B,WACnBZ,EAAOG,GAAP,2BAEF,MACF,IAAK,YACL,IAAK,YACEG,EAAMC,MAAMM,OACfb,EAAOG,GAAP,6BAEF,MACF,IAAK,cACL,IAAK,eACEG,EAAMC,MAAMO,OACfd,EAAOG,GAAP,qBAEF,MACF,IAAK,kBACEG,EAAMC,MAAMQ,OACff,EAAOG,GAAP,6BAnDNH,EAAOG,GAAP,UAAmBC,EAAnB,mBA0DGJ,GC0NMgB,cAAU,CACvBC,KAAM,YACNlB,SAAUA,EACVmB,aAAcC,KAHDH,EArRG,SAACI,GACjB,OACE,0BAAMC,SAAUD,EAAME,cACpB,yBAAKC,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,aACLuC,MAAM,cACNC,YAAY,wBACZC,UAAWC,IACXC,SAAO,KAGX,yBAAKN,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,aACLuC,MAAM,cACNC,YAAY,mBACZC,UAAWC,IACXC,SAAO,MAIb,yBAAKN,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,cACLuC,MAAM,eACNC,YAAY,oBACZC,UAAWC,IACXC,SAAO,MAIb,yBAAKN,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,YACLuC,MAAM,aACNC,YAAY,kBACZC,UAAWC,IACXC,SAAO,OAMf,yBAAKN,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACEtC,KAAK,SACLuC,MAAM,UACNC,YAAY,gBACZC,UAAWG,IACXC,QAASC,IACTC,mBAAiB,KACjBJ,SAAO,MAIb,yBAAKN,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACEtC,KAAK,OACLuC,MAAM,QACNC,YAAY,cACZC,UAAWG,IACXC,QAASG,IACTD,mBAAiB,KACjBJ,SAAO,OAMf,yBAAKN,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,cACLuC,MAAM,eACNC,YAAY,oBACZC,UAAWC,IACXC,SAAO,KAIX,yBAAKN,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACEtC,KAAK,SACLuC,MAAM,UACNC,YAAY,gBACZC,UAAWG,IACXC,QAASI,IACTF,mBAAiB,KACjBJ,SAAO,MAIb,yBAAKN,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACEtC,KAAK,cACLuC,MAAM,eACNC,YAAY,qBACZC,UAAWG,IACXC,QAASK,IACTH,mBAAiB,KACjBJ,SAAO,OAKf,yBAAKN,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,QACLsC,KAAK,QACLuC,MAAM,YACNC,YAAY,iBACZC,UAAWC,IACXC,SAAO,KAGX,yBAAKN,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,SACLsC,KAAK,UACLuC,MAAM,cACNC,YAAY,uBACZC,UAAWC,IACXS,UAAU,KACVR,SAAO,KAGX,yBAAKN,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,WACLsC,KAAK,WACLuC,MAAM,YACNC,YAAY,iBACZC,UAAWC,IACXU,UAAU,IACVD,UAAU,KACVR,SAAO,KAGX,yBAAKN,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,WACLsC,KAAK,mBACLuC,MAAM,oBACNC,YAAY,mBACZC,UAAWC,IACXU,UAAU,IACVD,UAAU,KACVR,SAAO,KAGX,yBAAKN,UAAU,cACb,2BAAOgB,QAAQ,oBAAf,qBACoB,0BAAMC,MAAM,OAAZ,MAGpB,kBAAChB,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,YACLyC,UAAWC,IACXL,UAAU,oBACVG,YAAY,mBAEd,kBAACF,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,YACLyC,UAAWC,IACXL,UAAU,oBACVG,YAAY,mBAEd,kBAACF,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,cACLyC,UAAWC,IACXL,UAAU,oBACVG,YAAY,SAEd,kBAACF,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,eACLyC,UAAWC,IACXL,UAAU,oBACVG,YAAY,UAEd,kBAACF,EAAA,EAAD,CACE5E,KAAK,SACLsC,KAAK,kBACLyC,UAAWC,IACXL,UAAU,oBACVG,YAAY,gBAGd,kBAACF,EAAA,EAAD,CACEtC,KAAK,iBACLwC,YAAY,iBACZH,UAAU,oBACVI,UAAWG,IACXC,QAASU,IACTR,mBAAiB,QAGrB,yBAAKV,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACE5E,KAAK,OACLsC,KAAK,gBACLuC,MAAM,iBACNE,UAAWC,IACXc,IAAI,aACJC,IAAI,aACJd,SAAO,MAIb,yBAAKN,UAAU,YACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACEtC,KAAK,cACLuC,MAAM,eACNC,YAAY,qBACZC,UAAWG,IACXC,QAASa,IACTX,mBAAiB,KACjBJ,SAAO,OAKf,yBAAKN,UAAU,OACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACEtC,KAAK,QACLwC,YAAY,YACZC,UAAWkB,IACXC,QAAQ,2BACRC,QAAQ,sBAId,yBAAKxB,UAAU,gCACb,yBAAKA,UAAU,cACb,kBAACC,EAAA,EAAD,CACEtC,KAAK,OACLwC,YAAY,WACZC,UAAWkB,IACXC,QAAQ,0BACRC,QAAQ,gDAMhB,yBAAKxB,UAAU,+BACb,4BAAQ3E,KAAK,SAAS2E,UAAU,mBAAhC,e,SCzRFyB,E,4MACJ1B,aAAe,SAACxC,GAEd,IAAMN,EAAW,IAAIQ,SACrBiE,OAAOC,KAAKpE,GAAQoB,SAAQ,SAACC,EAAOgD,GACpB,UAAVhD,GAA+B,SAAVA,EACvB3B,EAASS,OAAOkB,EAAOrB,EAAOqB,GAAQrB,EAAOqB,GAAOjB,MAEpDV,EAASS,OAAOkB,EAAOrB,EAAOqB,OAIlC,EAAKiB,MAAMxC,cAAcJ,EAAU,EAAK4C,MAAM3E,U,uDAG9C,OACE,yBAAK8E,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,kBAAC,EAAD,CAAWF,SAAU+B,KAAK9B,wB,GArBV+B,aA+BjBC,sBAAQ,KAAM,CAAE1E,mBAAhB0E,CAAiCN","file":"static/js/11.06df761d.chunk.js","sourcesContent":["import {\r\n\tSET_ERRORS,\r\n\tCLEAR_ERRORS,\r\n\tSET_AUTHENTICATED,\r\n\tSET_USER,\r\n\tLOADING_UI,\r\n\tSET_ADMIN,\r\n\tSTOP_LOADING_UI,\r\n\tSET_OPERATION_SUCCESS,\r\n\tLOGOUT,\r\n\r\n} from '../type';\r\nimport axios from 'axios';\r\n\r\nexport const loginUser = (userData, history) => async (dispatch) => {\r\n\tdispatch({ type: CLEAR_ERRORS });\r\n\tdispatch({ type: LOADING_UI });\r\n\taxios\r\n\t\t.post('/api/authenticate', userData)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({ type: SET_AUTHENTICATED });\r\n\t\t\tsetAuthorizationHeader(res.data.jwt, res.data.domain);\r\n\t\t\tdispatch(getUserData(res.data.domain, history));\r\n\t\t\tdispatch({ type: STOP_LOADING_UI });\r\n\t\t\tif (res.data.domain === 'STUDENT') {\r\n\t\t\t\thistory.push('/student');\r\n\t\t\t} else {\r\n\t\t\t\thistory.push('/admin');\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SET_ERRORS,\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\nexport const getUserData = (domain) => (dispatch) => {\r\n\tlet url;\r\n\tif (domain === 'STUDENT') {\r\n\t\turl = '/api/student/data';\r\n\t\taxios\r\n\t\t\t.get(url)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: SET_USER,\r\n\t\t\t\t\tpayload: res.data\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: SET_ERRORS,\r\n\t\t\t\t\tpayload: err\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t} else {\r\n\t\turl = '/api/admin/data';\r\n\t\taxios.get(url).then((res) => {\r\n\t\t\taxios\r\n\t\t\t\t.get('/api/admin/adminDashbord')\r\n\t\t\t\t.then((dashboard) => {\r\n\t\t\t\t\tconsole.log(dashboard.data);\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: SET_ADMIN,\r\n\t\t\t\t\t\tpayload: res.data,\r\n\t\t\t\t\t\tdashboard: dashboard.data\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const RegisterStudent = (formData, history) => (dispatch) => {\r\n\tconst config = {\r\n\t\theader: { 'content-type': 'multipart/form-data' }\r\n\t};\r\n\taxios\r\n\t\t.post('/api/registerStudent', formData, config)\r\n\t\t.then((res) => {\r\n\t\t\thistory.push('/login');\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateStudent = (formData) => (dispatch) => {\r\n\tdispatch({ type: CLEAR_ERRORS });\r\n\tdispatch({ type: LOADING_UI });\r\n\tconst config = {\r\n\t\theader: { 'content-type': 'multipart/form-data' }\r\n\t};\r\n\taxios\r\n\t\t.post('/api/student/updateStudent', formData, config)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch(getUserData('STUDENT'));\r\n\t\t\tdispatch({ type: SET_OPERATION_SUCCESS, payload: 'success' });\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SET_ERRORS,\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\nexport const RegisterAdmin = (formData, history) => (dispatch) => {\r\n\tconst config = {\r\n\t\theader: { 'content-type': 'multipart/form-data' }\r\n\t};\r\n\taxios\r\n\t\t.post('/api/registerFaculty', formData, config)\r\n\t\t.then((res) => {\r\n\t\t\thistory.push('/login');\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const changePhotoOrSign = (values, domain) => (dispatch) => {\r\n\tdispatch({ type: CLEAR_ERRORS });\r\n\tconst formData = new FormData();\r\n\tlet url;\r\n\tlet key;\r\n\tif (values['sign']) {\r\n\t\tkey = 'sign';\r\n\t\tformData.append(key, values[key], values[key].name);\r\n\t\turl = domain + '/changeSign';\r\n\t} else {\r\n\t\tkey = 'photo';\r\n\t\tformData.append(key, values[key], values[key].name);\r\n\t\turl = domain + '/changePhoto';\r\n\t}\r\n\r\n\tconst config = {\r\n\t\theader: { 'content-type': 'multipart/form-data' }\r\n\t};\r\n\taxios\r\n\t\t.post(\"/api\"+url, formData, config)\r\n\t\t.then(async (res) => {\r\n\t\t\tif (domain === \"/student\") {\r\n\t\t\t\tdispatch(getUserData(\"STUDENT\"))\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(getUserData(\"ADMIN\"))\r\n\t\t\t}\r\n\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SET_ERRORS,\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\nexport const changePassword = (formData, domain) => (dispatch) => {\r\n\tdispatch({ type: CLEAR_ERRORS });\r\n\tdispatch({ type: LOADING_UI });\r\n\tconst config = {\r\n\t\theader: { 'content-type': 'multipart/form-data' }\r\n\t};\r\n\taxios\r\n\t\t.post(`/api${domain}/changePassword`, formData, config)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({ type: SET_OPERATION_SUCCESS, payload: 'success' });\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.error(err);\r\n\t\t\tdispatch({ type: SET_ERRORS, payload: err.response.data });\r\n\t\t});\r\n};\r\n\r\n\r\n\r\nexport const requestCertificate = (type, formData, history) => (dispatch) => {\r\n\tdispatch({ type: CLEAR_ERRORS });\r\n\tdispatch({ type: LOADING_UI });\r\n\r\n\tconst config = {\r\n\t\theader: { 'content-type': 'multipart/form-data' }\r\n\t};\r\n\tconst link = type === \"feerefund\" ? '/api/student/feeRefund' : `/api/student/DocumentSubmit/${type}`;\r\n\taxios\r\n\t\t.post(link, formData, config)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({ type: SET_OPERATION_SUCCESS, payload: 'Success' });\r\n\t\t\tdispatch(getUserData(\"STUDENT\"))\r\n\t\t\tdispatch({ type: CLEAR_ERRORS })\r\n\t\t\thistory.push('/student')\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.error(err);\r\n\t\t\tdispatch({ type: SET_ERRORS, payload: err.response.data });\r\n\t\t});\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const forgotPasswordAction = (formData) => (dispatch) => {\r\n\tdispatch({ type: CLEAR_ERRORS });\r\n\tdispatch({ type: LOADING_UI });\r\n\tconsole.log(formData);\r\n\tconst config = {\r\n\t\theader: { 'content-type': 'multipart/form-data' }\r\n\t};\r\n\taxios\r\n\t\t.post(`/api/forgotPassword`, formData, config)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({ type: SET_OPERATION_SUCCESS, payload: res.data });\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.error(err);\r\n\t\t\tdispatch({ type: SET_ERRORS, payload: err.response.data });\r\n\t\t});\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: LOGOUT\r\n\t})\r\n}\r\n\r\nconst setAuthorizationHeader = (token, domain) => {\r\n\tconst FBIdToken = `Bearer ${token}`;\r\n\taxios.defaults.headers.common['Authorization'] = FBIdToken;\r\n\taxios.defaults.headers.common['Domain'] = domain;\r\n};\r\n","import { ADMIN_FIELDS } from \"./data\";\r\nimport {\r\n  nameRegex,\r\n  emailRegex,\r\n  contactRegex,\r\n  passwordRegex,\r\n  addLineRegex,\r\n  cityRegex,\r\n  pinRegex,\r\n} from \"../ReduxForm/Regex\";\r\n\r\nconst validate = (values) => {\r\n  const errors = {};\r\n\r\n  ADMIN_FIELDS.forEach((field) => {\r\n    const fieldName = field.replace(/_/g, \" \");\r\n    const value = values[field];\r\n\r\n    if (!value) {\r\n      errors[field] = `${fieldName} is required`;\r\n    } else\r\n      switch (field) {\r\n        case \"first_name\":\r\n        case \"middle_name\":\r\n        case \"last_name\":\r\n          if (!value.match(nameRegex)) {\r\n            errors[field] = `Please enter your valid ${fieldName}.`;\r\n          }\r\n          break;\r\n        case \"email\":\r\n          if (!value.match(emailRegex)) {\r\n            errors[field] = `Please enter your valid ${fieldName}.`;\r\n          }\r\n          break;\r\n        case \"contact\":\r\n          if (!value.match(contactRegex)) {\r\n            errors[field] = `Please enter your valid Mobile Number.`;\r\n          }\r\n          break;\r\n        case \"password\":\r\n          if (!value.match(passwordRegex)) {\r\n            errors[field] = `<div id=\"repassword\">\r\n                            <span>Password must contain the following:</span>\r\n                            <p>A <b>lowercase</b> letter.</p>\r\n                            <p>A <b>UPPERCASE</b> letter.</p>\r\n                            <p>A <b>number (0-9)</b>.</p>\r\n                            <p>A <b>special (!@#$%^&*) characters</b>.</p>\r\n                            <p>Password length between <b>8-32 characters</b>.</p>\r\n                          </div>`;\r\n          }\r\n          break;\r\n        case \"confirm_password\":\r\n          if (value !== values.password) {\r\n            errors[field] = `Password doesn't match.`;\r\n          }\r\n          break;\r\n        case \"re_add_l1\":\r\n        case \"re_add_l2\":\r\n          if (!value.match(addLineRegex)) {\r\n            errors[field] = `Enter valid address line.`;\r\n          }\r\n          break;\r\n        case \"re_add_city\":\r\n        case \"re_add_state\":\r\n          if (!value.match(cityRegex)) {\r\n            errors[field] = `Enter valid name.`;\r\n          }\r\n          break;\r\n        case \"re_add_pin_code\":\r\n          if (!value.match(pinRegex)) {\r\n            errors[field] = `Check your Pin-Code.`;\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n  });\r\n  return errors;\r\n};\r\n\r\nexport default validate;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  textInput,\r\n  selectInput,\r\n  ImageInput,\r\n  scrollToFirstError,\r\n} from \"../ReduxForm/form\";\r\nimport {\r\n  GENDER,\r\n  ADMIN_ROLE,\r\n  BRANCH_YEAR,\r\n  BRANCH,\r\n  COUNTRY,\r\n  BLOOD_GROOP,\r\n} from \"./data\";\r\nimport validate from \"./AdminFormValidate\";\r\n\r\nconst AdminForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <Field\r\n          type=\"text\"\r\n          name=\"faculty_id\"\r\n          label=\"Faculty Id:\"\r\n          placeholder=\"Enter your faculty Id\"\r\n          component={textInput}\r\n          require\r\n        />\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              type=\"text\"\r\n              name=\"first_name\"\r\n              label=\"First Name:\"\r\n              placeholder=\"Enter First Name\"\r\n              component={textInput}\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-4\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              type=\"text\"\r\n              name=\"middle_name\"\r\n              label=\"Middle Name:\"\r\n              placeholder=\"Enter Middle Name\"\r\n              component={textInput}\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-4\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              type=\"text\"\r\n              name=\"last_name\"\r\n              label=\"Last Name:\"\r\n              placeholder=\"Enter Last Name\"\r\n              component={textInput}\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-6\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              name=\"gender\"\r\n              label=\"Gender:\"\r\n              placeholder=\"Select Gender\"\r\n              component={selectInput}\r\n              options={GENDER}\r\n              data-live-search=\"on\"\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-6\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              name=\"role\"\r\n              label=\"Role:\"\r\n              placeholder=\"Select Role\"\r\n              component={selectInput}\r\n              options={ADMIN_ROLE}\r\n              data-live-search=\"on\"\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <Field\r\n          type=\"text\"\r\n          name=\"designation\"\r\n          label=\"Designation:\"\r\n          placeholder=\"Enter Designation\"\r\n          component={textInput}\r\n          require\r\n        />\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-6\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              name=\"branch\"\r\n              label=\"Branch:\"\r\n              placeholder=\"Select Branch\"\r\n              component={selectInput}\r\n              options={BRANCH}\r\n              data-live-search=\"on\"\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-6\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              name=\"branch_year\"\r\n              label=\"Branch Year:\"\r\n              placeholder=\"Select Branch year\"\r\n              component={selectInput}\r\n              options={BRANCH_YEAR}\r\n              data-live-search=\"on\"\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <Field\r\n          type=\"email\"\r\n          name=\"email\"\r\n          label=\"Email Id:\"\r\n          placeholder=\"Enter Email Id\"\r\n          component={textInput}\r\n          require\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <Field\r\n          type=\"number\"\r\n          name=\"contact\"\r\n          label=\"Contact No:\"\r\n          placeholder=\"Enter Contact Number\"\r\n          component={textInput}\r\n          maxLength=\"10\"\r\n          require\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <Field\r\n          type=\"password\"\r\n          name=\"password\"\r\n          label=\"Password:\"\r\n          placeholder=\"Enter Password\"\r\n          component={textInput}\r\n          minLength=\"8\"\r\n          maxLength=\"32\"\r\n          require\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <Field\r\n          type=\"password\"\r\n          name=\"confirm_password\"\r\n          label=\"Confirm Password:\"\r\n          placeholder=\"Confirm Password\"\r\n          component={textInput}\r\n          minLength=\"8\"\r\n          maxLength=\"32\"\r\n          require\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"resident_address\">\r\n          Resident Address: <font color=\"red\">*</font>\r\n        </label>\r\n\r\n        <Field\r\n          type=\"text\"\r\n          name=\"re_add_l1\"\r\n          component={textInput}\r\n          className=\"form-control mt-3\"\r\n          placeholder=\"Address Line 1\"\r\n        />\r\n        <Field\r\n          type=\"text\"\r\n          name=\"re_add_l2\"\r\n          component={textInput}\r\n          className=\"form-control mt-1\"\r\n          placeholder=\"Address Line 2\"\r\n        />\r\n        <Field\r\n          type=\"text\"\r\n          name=\"re_add_city\"\r\n          component={textInput}\r\n          className=\"form-control mt-1\"\r\n          placeholder=\"City\"\r\n        />\r\n        <Field\r\n          type=\"text\"\r\n          name=\"re_add_state\"\r\n          component={textInput}\r\n          className=\"form-control mt-1\"\r\n          placeholder=\"State\"\r\n        />\r\n        <Field\r\n          type=\"number\"\r\n          name=\"re_add_pin_code\"\r\n          component={textInput}\r\n          className=\"form-control mt-1\"\r\n          placeholder=\"Postal Code\"\r\n        />\r\n\r\n        <Field\r\n          name=\"re_add_country\"\r\n          placeholder=\"Select Country\"\r\n          className=\"form-control mt-1\"\r\n          component={selectInput}\r\n          options={COUNTRY}\r\n          data-live-search=\"on\"\r\n        />\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-6\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              type=\"date\"\r\n              name=\"date_of_birth\"\r\n              label=\"Date of Birth:\"\r\n              component={textInput}\r\n              min=\"1900-01-01\"\r\n              max=\"2000-12-31\"\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-6\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              name=\"blood_group\"\r\n              label=\"Blood Group:\"\r\n              placeholder=\"Select Blood Group\"\r\n              component={selectInput}\r\n              options={BLOOD_GROOP}\r\n              data-live-search=\"on\"\r\n              require\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-6 text-center\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              name=\"photo\"\r\n              placeholder=\"Add Photo\"\r\n              component={ImageInput}\r\n              default=\"/static/images/photo.jpg\"\r\n              message=\"Max Size 500KB.\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-6 mt-lg-5 text-center\">\r\n          <div className=\"form-group\">\r\n            <Field\r\n              name=\"sign\"\r\n              placeholder=\"Add Sign\"\r\n              component={ImageInput}\r\n              default=\"/static/images/sign.jpg\"\r\n              message=\"Sign only on white page. Max Size 500KB.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group mt-3 text-center\">\r\n        <button type=\"submit\" className=\"btn btn-success\">\r\n          Submit\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"AdminForm\",\r\n  validate: validate,\r\n  onSubmitFail: scrollToFirstError,\r\n})(AdminForm);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport AdminForm from \"./AdminForm\";\r\nimport { RegisterAdmin } from \"../../redux/actions/userAction\";\r\n\r\nclass AdminRegisterForm extends Component {\r\n  handleSubmit = (values) => {\r\n    //converting to multi-part form data\r\n    const formData = new FormData();\r\n    Object.keys(values).forEach((field, index) => {\r\n      if (field === \"photo\" || field === \"sign\") {\r\n        formData.append(field, values[field], values[field].name);\r\n      } else {\r\n        formData.append(field, values[field]);\r\n      }\r\n    });\r\n    //passed history 'cause after success full registration it redirect to login page\r\n    this.props.RegisterAdmin(formData, this.props.history);\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-7 mx-auto mt-5\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <AdminForm onSubmit={this.handleSubmit} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { RegisterAdmin })(AdminRegisterForm);\r\n"],"sourceRoot":""}